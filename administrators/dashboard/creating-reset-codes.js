const Screenshots = require('../../screenshots.js')

module.exports = async (device) => { 
  const owner = await Screenshots.createUser(device, 'owner')
  const user = await Screenshots.createUser(device)
  user.accountid = await owner.accountid(user.email)
  await owner.click('Home')
  await owner.hover('Administrator')
  await owner.hover('Dashboard administration')
  await owner.screenshot('Click "Dashboard administration"')
  await owner.hover('Administrator')
  await owner.hover('Dashboard administration')
  await owner.click('Dashboard administration')
  await owner.hover('Accounts')
  await owner.screenshot('Click "Accounts"')
  await owner.hover('Accounts')
  await owner.click('Accounts')
  await owner.hover(user.accountid, true)
  await owner.screenshot('Click account to create reset code for')
  await owner.hover(user.accountid, true)
  await owner.click(user.accountid, true)
  await owner.hover('Create reset code')
  await owner.screenshot('Click "Create reset code"')
  await owner.hover('Create reset code')
  await owner.click('Create reset code')
  await owner.hover('Create reset code', true)
  await owner.screenshot(`Enter new code and submit form`)
  await owner.hover('Create reset code', true)
  await owner.click('Create reset code', true)
  await owner.screenshot('Success')
}
