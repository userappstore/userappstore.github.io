const Screenshots = require('../../screenshots.js')

module.exports = async (device) => {
  await Screenshots.createUser(device, 'owner')
  const user = await Screenshots.createUser(device)
  await user.hover('Account')
  await user.click('My account')
  await user.click('Reset codes')
  await user.click('Create code', true)
  await user.click('Save code', true)
  user.codeid = await user.codeid()
  await user.click('Home')
  await user.hover('Account')
  await user.hover('My account')
  await user.screenshot('Click "My account"')
  await user.hover('Account')
  await user.click('My account')
  await user.hover('Reset codes')
  await user.screenshot('Click "Reset codes"')
  await user.hover('Reset codes')
  await user.click('Reset codes')
  await user.hover(user.codeid, true)
  await user.screenshot('Click reset code to delete')
  await user.hover(user.codeid, true)
  await user.click(user.codeid, true)
  await user.hover('Delete code')
  await user.screenshot('Click "Delete code"')
  await user.hover('Delete code')
  await user.click('Delete code')
  await user.hover('Delete code', true)
  await user.screenshot('Submit form')
  await user.hover('Delete code', true)
  await user.click('Delete code', true)
  await user.screenshot('Success')
}
